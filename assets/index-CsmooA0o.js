var q=Object.defineProperty,_=Object.defineProperties;var L=Object.getOwnPropertyDescriptors;var I=Object.getOwnPropertySymbols;var O=Object.prototype.hasOwnProperty,B=Object.prototype.propertyIsEnumerable;var $=(t,s,a)=>s in t?q(t,s,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[s]=a,N=(t,s)=>{for(var a in s||(s={}))O.call(s,a)&&$(t,a,s[a]);if(I)for(var a of I(s))B.call(s,a)&&$(t,a,s[a]);return t},A=(t,s)=>_(t,L(s));var P=(t,s,a)=>new Promise((d,c)=>{var m=l=>{try{n(a.next(l))}catch(u){c(u)}},o=l=>{try{n(a.throw(l))}catch(u){c(u)}},n=l=>l.done?d(l.value):Promise.resolve(l.value).then(m,o);n((a=a.apply(t,s)).next())});import{k as e,r as p}from"./react-DxwSq1SJ.js";import{u as w}from"./index-BNzlG0VN.js";import{R as g}from"./RevealWrapper-CwReTT-2.js";import{c as i}from"./contactData-B_b0GRKy.js";import{f as J,a as U,g as V,h as W}from"./lucide-CmUpX8ct.js";import{R as K}from"./recaptcha-DA6pFzvx.js";import"./router-C-blxMXc.js";const Y=()=>{const{colors:t}=w();return e.jsx(g,{animationClass:"fade-in-text",children:e.jsx("h1",{className:"text-2xl md:text-5xl font-cinzel font-extralight text-center mb-24 md:py-10 tracking-wider mt-10",style:{backgroundColor:t.background,color:t.accent},children:i.title})})},Z=()=>{var s,a,d,c;const{colors:t}=w();return e.jsx("section",{className:"space-y-8",children:e.jsxs("div",{className:"rounded-lg shadow-sm p-2 md:p-8",children:[e.jsx(g,{animationClass:"fade-in-text",children:e.jsx("h2",{className:"text-2xl font-cinzel tracking-wide mb-6",style:{color:t.accent},children:i.contactTitle})}),e.jsx(g,{animationClass:"fade-in-text",children:e.jsx("div",{className:"space-y-6",style:{color:t.text},children:[{icon:e.jsx(J,{className:"w-6 h-6 text-pink-600"}),label:"Telefono",value:(s=i)==null?void 0:s.phone},{icon:e.jsx(U,{className:"w-6 h-6 text-pink-600"}),label:"Email",value:(a=i)==null?void 0:a.email},{icon:e.jsx(V,{className:"w-6 h-6 text-pink-600"}),label:"Ubicación",value:(d=i)!=null&&d.location?`${i.location.street} <br /> ${i.location.city}`:null},{icon:e.jsx(W,{className:"w-6 h-6 text-pink-600"}),label:"Horario",value:(c=i)!=null&&c.schedule?`${i.schedule.mondayToFriday} <br /> ${i.schedule.saturday} <br /> ${i.schedule.sunday}`:null}].map(({icon:m,label:o,value:n})=>n?e.jsx(g,{animationClass:"fade-in-text",children:e.jsxs("div",{className:"flex items-start space-x-4",children:[m,e.jsxs("div",{children:[e.jsx("h3",{className:"font-cinzel",children:o}),e.jsx("p",{className:"font-cinzel",dangerouslySetInnerHTML:{__html:n}})]})]})},o):null)})})]})})},G=()=>{var s,a,d,c,m,o;const{colors:t}=w();return e.jsxs("div",{className:"rounded-lg shadow-sm p-2 md:p-8",style:{backgroundColor:t.background,color:t.accent},children:[e.jsx(g,{animationClass:"fade-in-text",children:e.jsx("h2",{className:"text-2xl font-cinzel tracking-wide mb-6",style:{backgroundColor:t.background,color:t.accent},children:i.followUsTitle})}),e.jsx("div",{className:"flex space-x-4",children:[{platform:"Instagram",link:(a=(s=i)==null?void 0:s.socialMedia)==null?void 0:a.instagram},{platform:"Pinterest",link:(c=(d=i)==null?void 0:d.socialMedia)==null?void 0:c.pinterest},{platform:"Facebook",link:(o=(m=i)==null?void 0:m.socialMedia)==null?void 0:o.facebook}].map(({platform:n,link:l})=>l?e.jsx(g,{animationClass:"fade-in-text",children:e.jsx("a",{href:l,target:"_blank",rel:"noopener noreferrer",className:"font-cinzel hover:text-pink-600 transition-colors",style:{backgroundColor:t.background,color:t.text},children:n})},n):null)})]})},S=({type:t,id:s,label:a,rows:d,value:c,onChange:m,error:o})=>{const{theme:n}=w(),l=h=>h==="dark"?"text-white":"text-gray-700",u=h=>h==="dark"?"bg-gray-700 border-gray-700 text-white":"bg-white border-gray-300 text-gray-700",C=o?"border-red-500":"",b=h=>{m&&m(s,h.target.value)};return e.jsxs("div",{children:[e.jsx("label",{htmlFor:s,className:`block text-sm font-cinzel ${l(n)} mb-2`,children:a}),t==="textarea"?e.jsx("textarea",{id:s,rows:d,value:c,onChange:b,className:`w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-pink-200 ${u(n)} ${C}`}):e.jsx("input",{type:t,id:s,value:c,onChange:b,className:`w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-pink-200 ${u(n)} ${C}`}),o&&e.jsx("p",{className:"text-red-500 text-sm",children:o})]})},Q=()=>{const[t,s]=p.useState({name:"",email:"",subject:"",message:""}),[a,d]=p.useState({}),[c,m]=p.useState(!1),[o,n]=p.useState(""),[l,u]=p.useState(null),[C,b]=p.useState(!1),[h,R]=p.useState(!1),E=p.useRef(null),z="6LfyCh4rAAAAADBID5j6l-lRPoHDZTAhDlVEjrEM",H=()=>{if(h)return;if(window.grecaptcha){console.log("✅ reCAPTCHA ya estaba cacheado"),b(!0),R(!0);return}if(document.querySelector('script[src^="https://www.google.com/recaptcha/api.js"]'))console.log("✅ reCAPTCHA script ya estaba cargado (otra instancia)"),b(!0);else{const r=document.createElement("script");r.src="https://www.google.com/recaptcha/api.js?render=explicit",r.async=!0,r.defer=!0,r.onload=()=>{console.log("✅ reCAPTCHA script cargado dinámicamente"),b(!0)},document.body.appendChild(r)}R(!0)},v=(f,r)=>{const x=f;s(j=>A(N({},j),{[x]:r})),a[x]&&d(j=>{const k=N({},j);return delete k[x],k}),o&&n(""),C||H()},D=f=>{u(f),a.recaptcha&&f&&d(r=>{const x=N({},r);return delete x.recaptcha,x})},F=f=>P(void 0,null,function*(){var x,j,k,M;f.preventDefault(),n("");let r={};if(t.name||(r.name="El nombre es requerido"),t.email?/\S+@\S+\.\S+/.test(t.email)||(r.email="El correo no tiene un formato válido"):r.email="El email es requerido",t.subject||(r.subject="El tema es requerido"),t.message||(r.message="El mensaje es requerido"),l||(r.recaptcha="Por favor, verifica que no eres un robot."),d(r),!(Object.keys(r).length>0)){m(!0);try{const y=A(N({},t),{recaptchaToken:l}),T=yield(yield fetch("https://sendcontactform-tca7mefsba-uc.a.run.app",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(y)})).json();n((T==null?void 0:T.message)||"¡Mensaje enviado con éxito!"),s({name:"",email:"",subject:"",message:""}),d({}),(x=E.current)==null||x.reset(),u(null)}catch(y){console.error("Error al enviar el formulario: ",y),n(((k=(j=y==null?void 0:y.response)==null?void 0:j.data)==null?void 0:k.message)||"Hubo un error al enviar el formulario. Intenta de nuevo."),(M=E.current)==null||M.reset(),u(null)}finally{m(!1)}}});return e.jsx(g,{animationClass:"fade-in-animation",children:e.jsxs("form",{onSubmit:F,className:"space-y-6",children:[e.jsx(S,{type:"text",id:"name",label:"Nombre",value:t.name,onChange:v,error:a.name}),e.jsx(S,{type:"email",id:"email",label:"Email",value:t.email,onChange:v,error:a.email}),e.jsx(S,{type:"text",id:"subject",label:"Tema",value:t.subject,onChange:v,error:a.subject}),e.jsx(S,{type:"textarea",id:"message",label:"Mensaje",rows:4,value:t.message,onChange:v,error:a.message}),e.jsx("div",{className:"flex justify-center items-center my-4 min-h-[78px]",children:C?e.jsx(K,{ref:E,sitekey:z,onChange:D}):e.jsx("div",{className:"relative w-8 h-8",children:e.jsx("div",{className:"absolute w-full h-full border-4 border-pink-600 border-t-transparent rounded-full animate-spin"})})}),a.recaptcha&&e.jsx("p",{className:"text-red-500 text-sm text-center -mt-2 mb-4",children:a.recaptcha}),e.jsx("button",{type:"submit",disabled:c,className:`w-full px-6 py-3 bg-pink-600 text-white rounded-lg hover:bg-pink-700 transition-colors font-cinzel tracking-wider ${c?"opacity-50 cursor-not-allowed":""}`,children:c?"Enviando...":"ENVIAR MENSAJE"}),o&&e.jsx("p",{className:`text-sm text-center mt-4 ${o.includes("error")?"text-red-500":"text-green-600"}`,children:o})]})})};function ie(){const{colors:t}=w();return e.jsx("div",{id:"contact",className:"min-h-screen",style:{backgroundColor:t.background,color:t.text},children:e.jsxs("section",{className:"max-w-6xl mx-auto px-4 py-16 md:py-24",children:[e.jsx(Y,{}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-12",children:[e.jsx("section",{className:"shadow-sm p-2 md:p-8",children:e.jsx(Q,{})}),e.jsxs("section",{className:"space-y-8",children:[e.jsx(Z,{}),e.jsx(G,{})]})]})]})})}export{ie as default};
