import{r as t,j as a}from"./index-CC0X-8Bw.js";const y=({src:r,alt:n="",className:m="",onClick:i,isTransitioning:l=!1,fallbackSrc:d="/img/default-image.png",imageRef:g,isGridImage:p=!1})=>{const[c,s]=t.useState(!0),[u,f]=t.useState(!1),j=t.useRef(null),o=g||j;return t.useEffect(()=>{s(!0),f(!1);const e=new Image;return e.src=r,e.onload=()=>{o.current&&(o.current.src=r,s(!1))},e.onerror=()=>{f(!0),s(!1)},()=>{e.onload=null,e.onerror=null}},[r]),a.jsxs("div",{className:`relative ${m}`,children:[c&&a.jsx("div",{"aria-hidden":"true",className:"absolute inset-0 bg-gray-200 animate-pulse"}),u&&a.jsx("img",{src:d,alt:`Error loading ${n}`,className:`w-full h-full object-cover ${l?"transition-opacity duration-500":""}`,onClick:i}),!u&&a.jsx("img",{ref:o,src:"",alt:n,className:`w-full h-full ${p?"object-cover":"object-contain"} ${l?"transition-opacity duration-500":""} ${c?"opacity-0":"opacity-100"} transition-opacity duration-500 ease-in-out`,onClick:i})]})};export{y as S};
