const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-DQA97TaU.js","assets/index-CS0pCcsX.js","assets/index-u0x_LAn7.css"])))=>i.map(i=>d[i]);
import{b as w,j as e,r as c,_ as N}from"./index-CS0pCcsX.js";import{R as k}from"./RevealWrapper-CC1o2wYz.js";const y=({type:t,id:i,label:r,rows:m,value:u,onChange:g,error:o})=>{const{theme:l}=w(),j=s=>s==="dark"?"text-white":"text-gray-700",d=s=>s==="dark"?"bg-gray-700 border-gray-700 text-white":"bg-white border-gray-300 text-gray-700",p=o?"border-red-500":"",C=s=>{g&&g(i,s.target.value)};return e.jsxs("div",{children:[e.jsx("label",{htmlFor:i,className:`block text-sm font-cinzel ${j(l)} mb-2`,children:r}),t==="textarea"?e.jsx("textarea",{id:i,rows:m,value:u,onChange:C,className:`w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-pink-200 ${d(l)} ${p}`}):e.jsx("input",{type:t,id:i,value:u,onChange:C,className:`w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-pink-200 ${d(l)} ${p}`}),o&&e.jsx("p",{className:"text-red-500 text-sm",children:o})]})},T=c.lazy(()=>N(()=>import("./index-DQA97TaU.js"),__vite__mapDeps([0,1,2]))),$=()=>{const[t,i]=c.useState({name:"",email:"",subject:"",message:""}),[r,m]=c.useState({}),[u,g]=c.useState(!1),[o,l]=c.useState(""),[j,d]=c.useState(null),p=c.useRef(null),C="6LfyCh4rAAAAADBID5j6l-lRPoHDZTAhDlVEjrEM",s=(h,a)=>{const n=h;i(f=>({...f,[n]:a})),r[n]&&m(f=>{const b={...f};return delete b[n],b}),o&&l("")},S=h=>{d(h),r.recaptcha&&h&&m(a=>{const n={...a};return delete n.recaptcha,n})},A=async h=>{var n,f,b,v;h.preventDefault(),l("");let a={};if(t.name||(a.name="El nombre es requerido"),t.email?/\S+@\S+\.\S+/.test(t.email)||(a.email="El correo no tiene un formato válido"):a.email="El email es requerido",t.subject||(a.subject="El tema es requerido"),t.message||(a.message="El mensaje es requerido"),j||(a.recaptcha="Por favor, verifica que no eres un robot."),m(a),!(Object.keys(a).length>0)){g(!0);try{const x={...t,recaptchaToken:j},E=await(await fetch("https://sendcontactform-tca7mefsba-uc.a.run.app",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(x)})).json();l((E==null?void 0:E.message)||"¡Mensaje enviado con éxito!"),i({name:"",email:"",subject:"",message:""}),m({}),(n=p.current)==null||n.reset(),d(null)}catch(x){console.error("Error al enviar el formulario: ",x),l(((b=(f=x==null?void 0:x.response)==null?void 0:f.data)==null?void 0:b.message)||"Hubo un error al enviar el formulario. Intenta de nuevo."),(v=p.current)==null||v.reset(),d(null)}finally{g(!1)}}};return e.jsx(k,{animationClass:"fade-in-animation",children:e.jsxs("form",{onSubmit:A,className:"space-y-6",children:[e.jsx(y,{type:"text",id:"name",label:"Nombre",value:t.name,onChange:s,error:r.name}),e.jsx(y,{type:"email",id:"email",label:"Email",value:t.email,onChange:s,error:r.email}),e.jsx(y,{type:"text",id:"subject",label:"Tema",value:t.subject,onChange:s,error:r.subject}),e.jsx(y,{type:"textarea",id:"message",label:"Mensaje",rows:4,value:t.message,onChange:s,error:r.message}),e.jsx("div",{className:"flex justify-center my-4",children:e.jsx(c.Suspense,{fallback:e.jsx("p",{children:"Cargando reCAPTCHA..."}),children:e.jsx(T,{ref:p,sitekey:C,onChange:S})})}),r.recaptcha&&e.jsx("p",{className:"text-red-500 text-sm text-center -mt-2 mb-4",children:r.recaptcha}),e.jsx("button",{type:"submit",disabled:u,className:`w-full px-6 py-3 bg-pink-600 text-white rounded-lg hover:bg-pink-700 transition-colors font-cinzel tracking-wider ${u?"opacity-50 cursor-not-allowed":""}`,children:u?"Enviando...":"ENVIAR MENSAJE"}),o&&e.jsx("p",{className:`text-sm text-center mt-4 ${o.includes("error")?"text-red-500":"text-green-600"}`,children:o})]})})};export{$ as C};
