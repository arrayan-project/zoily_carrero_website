import{r as o,j as t}from"./index-CS0pCcsX.js";import{X as L}from"./x-Ymije308.js";import{C as X,a as A}from"./chevron-right-B9X56CUn.js";import{c as p}from"./createLucideIcon-jm0_sNms.js";/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z=p("ZoomIn",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D=p("ZoomOut",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]),V=({selectedImage:s,closeImage:j,prevImage:i,nextImage:n,modalContainerRef:r,isMobileView:w=!1})=>{const[v,m]=o.useState(1),[f,h]=o.useState(null),[E,x]=o.useState(!1),[l,C]=o.useState(s),[T,y]=o.useState(!0),c=()=>{x(!0),setTimeout(()=>{j(),x(!1)},300)};o.useEffect(()=>{if(s===l)return;y(!1);const e=setTimeout(()=>{C(s),y(!0)},200);return()=>clearTimeout(e)},[s,l]),o.useEffect(()=>(document.body.style.overflow="hidden",()=>{document.body.style.overflow="auto"}),[]),o.useEffect(()=>{const e=a=>{a.key==="Escape"&&c(),a.key==="ArrowLeft"&&i(),a.key==="ArrowRight"&&n()},u=a=>{if(a.key!=="Tab")return;const b=r.current;if(!b)return;const d=b.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])'),k=d[0],g=d[d.length-1];a.shiftKey&&document.activeElement===k?(a.preventDefault(),g.focus()):!a.shiftKey&&document.activeElement===g&&(a.preventDefault(),k.focus())};return window.addEventListener("keydown",e),window.addEventListener("keydown",u),()=>{window.removeEventListener("keydown",e),window.removeEventListener("keydown",u)}},[c,i,n]);const z=e=>{h(e.touches[0].clientX)},S=e=>{if(f===null)return;const u=e.changedTouches[0].clientX,a=f-u;a>50?n():a<-50&&i(),h(null)},N=e=>{r.current&&e.target===r.current&&c()};return t.jsxs("div",{ref:r,onClick:N,onTouchStart:z,onTouchEnd:S,className:`fixed inset-0 z-50 flex items-center justify-center bg-black/90 backdrop-blur-sm ${E?"modal-fade-out":"modal-animation"}`,role:"dialog","aria-modal":"true","aria-labelledby":"modal-title","aria-describedby":"modal-image",children:[t.jsx("button",{onClick:e=>{e.stopPropagation(),c()},className:"absolute top-4 right-4 text-white hover:text-red-500 z-50","aria-label":"Cerrar galería",children:t.jsx(L,{size:32})}),!w&&t.jsxs(t.Fragment,{children:[t.jsx("button",{onClick:e=>{e.stopPropagation(),i()},className:"absolute left-4 text-white hover:text-pink-400 z-50","aria-label":"Imagen anterior",children:t.jsx(X,{size:40})}),t.jsx("button",{onClick:e=>{e.stopPropagation(),n()},className:"absolute right-4 text-white hover:text-pink-400 z-50","aria-label":"Siguiente imagen",children:t.jsx(A,{size:40})})]}),t.jsxs("div",{className:"relative flex items-center justify-center max-w-full max-h-full modal-animation",onClick:e=>e.stopPropagation(),children:[t.jsx("h2",{id:"modal-title",className:"sr-only",children:"Vista ampliada de imagen"}),t.jsx("img",{id:"modal-image",src:l,alt:"Imagen seleccionada de galería",className:`object-contain h-auto max-h-[90vh] w-auto max-w-[95vw] transition-transform duration-300 modal-image-fade ${T?"visible":""}`,style:{transform:`scale(${v})`}},l),t.jsxs("div",{className:"absolute bottom-8 flex gap-4 z-40",children:[t.jsx("button",{onClick:()=>m(e=>Math.max(1,e-.2)),className:"text-white hover:text-pink-400","aria-label":"Alejar imagen",children:t.jsx(D,{size:28})}),t.jsx("button",{onClick:()=>m(e=>Math.min(2,e+.2)),className:"text-white hover:text-pink-400","aria-label":"Acercar imagen",children:t.jsx(Z,{size:28})})]})]})]})};export{V as default};
