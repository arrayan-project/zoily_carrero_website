import{r as t,j as r}from"./index-6DRt2FJk.js";const p=({src:s,alt:n="",className:m="",onClick:i,isTransitioning:l=!1,fallbackSrc:g="/img/default-image.png"})=>{const[u,a]=t.useState(!0),[c,f]=t.useState(!1),o=t.useRef(null);return t.useEffect(()=>{a(!0),f(!1);const e=new Image;return e.src=s,e.onload=()=>{o.current&&(o.current.src=s,a(!1))},e.onerror=()=>{f(!0),a(!1)},()=>{e.onload=null,e.onerror=null}},[s]),r.jsxs("div",{className:`relative ${m}`,children:[u&&r.jsx("div",{className:"absolute inset-0 bg-gray-200 animate-pulse"}),c&&r.jsx("img",{src:g,alt:`Error loading ${n}`,className:`w-full h-full object-cover ${l?"transition-opacity duration-500":""}`,onClick:i}),!c&&r.jsx("img",{ref:o,src:"",alt:n,className:`w-full h-full object-cover ${l?"transition-opacity duration-500":""} ${u?"opacity-0":"opacity-100"} transition-opacity duration-500 ease-in-out`,onClick:i})]})};export{p as S};
