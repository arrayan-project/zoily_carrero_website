const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-GW98i7ld.js","assets/index-BLpLhe0U.js","assets/index-3hbvicUd.css","assets/index-CfqCZANT.js"])))=>i.map(i=>d[i]);
import{b as w,j as e,r as c,_ as N}from"./index-BLpLhe0U.js";const C=({type:t,id:i,label:r,rows:u,value:m,onChange:f,error:o})=>{const{theme:l}=w(),j=a=>a==="dark"?"text-white":"text-gray-700",d=a=>a==="dark"?"bg-gray-700 border-gray-700 text-white":"bg-white border-gray-300 text-gray-700",p=o?"border-red-500":"",y=a=>{f&&f(i,a.target.value)};return e.jsxs("div",{children:[e.jsx("label",{htmlFor:i,className:`block text-sm font-cinzel ${j(l)} mb-2`,children:r}),t==="textarea"?e.jsx("textarea",{id:i,rows:u,value:m,onChange:y,className:`w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-pink-200 ${d(l)} ${p}`}):e.jsx("input",{type:t,id:i,value:m,onChange:y,className:`w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-pink-200 ${d(l)} ${p}`}),o&&e.jsx("p",{className:"text-red-500 text-sm",children:o})]})},k=c.lazy(()=>N(()=>import("./index-GW98i7ld.js"),__vite__mapDeps([0,1,2,3]))),D=()=>{const[t,i]=c.useState({name:"",email:"",subject:"",message:""}),[r,u]=c.useState({}),[m,f]=c.useState(!1),[o,l]=c.useState(""),[j,d]=c.useState(null),p=c.useRef(null),y="6LfyCh4rAAAAADBID5j6l-lRPoHDZTAhDlVEjrEM",a=(h,s)=>{const n=h;i(g=>({...g,[n]:s})),r[n]&&u(g=>{const b={...g};return delete b[n],b}),o&&l("")},S=h=>{d(h),r.recaptcha&&h&&u(s=>{const n={...s};return delete n.recaptcha,n})},A=async h=>{var n,g,b,v;h.preventDefault(),l("");let s={};if(t.name||(s.name="El nombre es requerido"),t.email?/\S+@\S+\.\S+/.test(t.email)||(s.email="El correo no tiene un formato válido"):s.email="El email es requerido",t.subject||(s.subject="El tema es requerido"),t.message||(s.message="El mensaje es requerido"),j||(s.recaptcha="Por favor, verifica que no eres un robot."),u(s),!(Object.keys(s).length>0)){f(!0);try{const x={...t,recaptchaToken:j},E=await(await fetch("https://sendcontactform-tca7mefsba-uc.a.run.app",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(x)})).json();l((E==null?void 0:E.message)||"¡Mensaje enviado con éxito!"),i({name:"",email:"",subject:"",message:""}),u({}),(n=p.current)==null||n.reset(),d(null)}catch(x){console.error("Error al enviar el formulario: ",x),l(((b=(g=x==null?void 0:x.response)==null?void 0:g.data)==null?void 0:b.message)||"Hubo un error al enviar el formulario. Intenta de nuevo."),(v=p.current)==null||v.reset(),d(null)}finally{f(!1)}}};return e.jsxs("form",{onSubmit:A,className:"space-y-6",children:[e.jsx(C,{type:"text",id:"name",label:"Nombre",value:t.name,onChange:a,error:r.name}),e.jsx(C,{type:"email",id:"email",label:"Email",value:t.email,onChange:a,error:r.email}),e.jsx(C,{type:"text",id:"subject",label:"Tema",value:t.subject,onChange:a,error:r.subject}),e.jsx(C,{type:"textarea",id:"message",label:"Mensaje",rows:4,value:t.message,onChange:a,error:r.message}),e.jsx("div",{className:"flex justify-center my-4",children:e.jsx(c.Suspense,{fallback:e.jsx("p",{children:"Cargando reCAPTCHA..."}),children:e.jsx(k,{ref:p,sitekey:y,onChange:S})})}),r.recaptcha&&e.jsx("p",{className:"text-red-500 text-sm text-center -mt-2 mb-4",children:r.recaptcha}),e.jsx("button",{type:"submit",disabled:m,className:`w-full px-6 py-3 bg-pink-600 text-white rounded-lg hover:bg-pink-700 transition-colors font-cinzel tracking-wider ${m?"opacity-50 cursor-not-allowed":""}`,children:m?"Enviando...":"ENVIAR MENSAJE"}),o&&e.jsx("p",{className:`text-sm text-center mt-4 ${o.includes("error")?"text-red-500":"text-green-600"}`,children:o})]})};export{D as C};
